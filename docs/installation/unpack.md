# Распаковка дистрибутива, форматирование раздела и копирование на него системы

После скачивания дистрибутива нужно его распаковать. Это не `raw`-образ, который можно записать утилитой dd или любыми другими аналогами. Тут нужно сделать всё самостоятельно.

## Распаковка

Так как это squashfs-образ, то распаковка производится утилитой `unsquashfs` из состава пакета `squashfs-tools`. Пример использования:

```bash
sudo unsquashfs calmira-1.1.sqsh
```

> **ВНИМАНИЕ!** squashfs очень сильно сжимает данные. Сжатый образ весит 207 Мб, а данные, которые распакуются из него - 1 Гб. Учитывайте это.

Файлы распакуются в директорию `squashfs-root`. Введите:

```bash
cd squashfs-root
```

## Форматирование раздела, на который установится Calmira GNU/Linux

Предполагается, что Calmira будет установлена на один раздел, а не несколько. Хотя вы без проблем можете выделить столько разделов под установку, сколько вам надо.

Минимальный раздел корневого раздела должен равняться 1.5 Гб. Этого вполне хватит для установки дистрибутива и хранения некоторых пользовательских файлов (например, документов). Отформатируйте раздел в файловую систему `ext4`:

```bash
sudo mkfs.ext4 /dev/sdX
```

Замените `sdX` на метку раздела.

Теперь смонтируйте этот раздел в `/mnt/calmira_system`:

```bash
sudo mkdir /mnt/calmira_system
sudo mount -v /dev/sdX /mnt/calmira_system
```

Замените `sdX` на метку раздела.

После того, как смонтировали раздел, скопируйте на него данные из распакованного образа дистрибутива. Во-первых убедитесь, что находитесь в директории `squashfs-root`:

```bash
pwd
```

Если всё верно, приступайте к копированию:

```bash
sudo cp -rvxa * /mnt/calmira_system/
```

Во время копирования на экран будут выведены скопированные файлы. Внимательно прочитайте вывод: в нём не должно содержаться `error`, `fail` и пр.

***

[Назад - Скачивание дистрибутива из репозитория GitHub](download.md)

[Далее - Установка системы на ПК, загрузчика и правка fstab](install_sys.md)
