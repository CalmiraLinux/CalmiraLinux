<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
	<title>Введение в порты</title>
</head>
<link rel="stylesheet" href="../../styles.css">
<body style="margin: 0px 150px 0px 150px">

<table summary="Header navigation table" width="100%" border="0" cellpadding="0"
cellspacing="0">
<tr>
<th colspan="3" align="center">Управление пакетами в Calmira GNU/Linux</th>
</tr>

<table summary="Footer navigation table" width="100%" border="0" cellpadding="0"
cellspacing="0">
<tr>
<td width="33%" align="left" valign="top"><a href="../setup/inittab.html"
accesskey="P">Назад</a></td>
<td width="34%" align="center" valign="top"><a href="index.html"
accesskey="H">Домой</a></td>
<td width="33%" align="right" valign="top"><a href="intro_cpkg.html"
accesskey="N">Далее</a></td>

</tr>

<tr>
<td width="33%" align="left" valign="top">Настройка inittab</td>
<td width="34%" align="center" valign="top">&nbsp;</td>
<td width="33%" align="right" valign="top">Введение в cpkg</td>
</tr>
</table>

<hr align="LEFT" width="100%" />

<h1>Введение в порты</h1>

<p>Порты - относительно молодой (в Calmira), но, в тоже время, очень удобный инструмент управления ПО. На данный момент, с помощью портов можно только устанавливать и удалять ПО, но в скором времени будут доступны новые функции.</p>

<h2>Введение</h2>

<p>Система портов находится в <em><tt>/usr/ports</tt></em>. Всё ПО разделено на категории:</p>

<ol>
	<li><tt>base</tt> - базовые порты, входящие в минимальную поставку дистрибутива;</li>
	<li><tt>kernel</tt> - ядро и его компоненты;</li>
	<li><tt>console</tt> - консольные утилиты;</li>
	<li><tt>optional</tt> - дополнительный софт, не вошедший в базовую поставку дистрибутива, но который может понадобиться после установки системы;</li>
	<li><tt>xorg</tt> - сервер X и другое ПО, такое как оконные менеджеры и рабочие окружения;</li>
</ol>

<p>В каждой категории несколько подкаталогов с портом программы. Первые версии портов включают в себя только файл <em><tt>install</tt></em> с инструкциями по сборке, либо ещё <em><tt>info</tt></em> с информацией о пакете. В новых портах вместо <em><tt>info</tt></em> используется файл <em><tt>config.sh</tt></em>, который предназначается ещё и для занесения пакета в базу данных cpkg.</p>

<h2>Установка программы из портов</h2>

<p>Для того, чтобы установить какую-либо программу из порта, нужно выполнить:</p>

<table border="1" width="100%" cellpadding="5"><colgroup>
	<col style="background-color:#eeddcc">
</colgroup>
<tr><td>
<pre>
# Переход в нужную директорию
cd /usr/ports/$КАТЕГОРИЯ/$ПРОГРАММА

# Выполнение инструкций сборки и установки
./install
</pre></td></tr></table>

<p>Всё ПО из портов собирается из исходного кода. В некоторых случаях сборка может занять довольно много времени (так, например, пакет <tt>gcc</tt> на очень слабом железе может собираться до трёх дней). Однако, у сборки очень много преимуществ:</p>

<ul>
	<li>Возможность оптимизации программы под своё железо;</li>
	<li>Больший контроль при установке;</li>
	<li>Выбор нужных функций и удаление ненужных (если программа это поддерживает).</li>
</ul>

<p>Иногда пакеты предоставляют к установке дополнительную документацию. Она не всем нужна, поэтому мы оставили в портах возможность выбора пользователем: ставить её или нет. Система портов всегда спрашивает пользователя об этом. Если вы отказались от установки такой документации в будущем, но она вам пригодилась позже - перейдите в директорию с портом и выполните:</p>

<table border="1" width="100%" cellpadding="5"><colgroup>
	<col style="background-color:#eeddcc">
</colgroup>
<tr><td>
<pre>
chmod +x install_doc.sh
./install_doc.sh
</pre></td></tr></table>

<p>Этими командами вы установите документацию пакета.</p>

<p>Настоятельно советуется использовать порты вместо установки бинарных пакетов посредством <tt>cpkg</tt>.</p>

<p>Кстати, портами скоро можно будет управлять и с помощью пакетного менеджера <tt>cpkg</tt>. Ко второй версии Calmira планируется добавить просмотр информации и удаление пакета, установленного из порта, а так же множество других функций.</p>

<h2>port-пакеты cpkg</h2>

<p>Пакетный менеджер <tt>cpkg</tt> умеет устанавливать не только бинарные пакеты, но и собирать ПО из исходного кода. Но у такого подхода несколько минусов:</p>

<ul>
	<li>Отсутствие контроля. Если в портах каждую инструкцию можно изменить так, как нужно человеку, то в случае с port-пакетами cpkg так не случится. Для редактирования инструкций сборки предётся распаковывать пакет, править его, а потом запаковывать обратно.</li>
	<li>Нестабильность. Несмотря на то, что механизм port-пакетов уже достаточно стабилен, могут возникать ошибки.</li>
	<li>Небольшое число пакетов. Для пакетного менеджера <tt>cpkg</tt> очень мало port-пакетов. Выбор очень невелик, а единственный репозиторий с port-пакетами было принято решение закрыть после выхода полноценной системы портов.</li>
</ul>

<blockquote>Рекомендуется использовать систему портов, а не сборку port-пакетов с помощью cpkg.</blockquote>

<hr align="LEFT" width="100%" />

<table summary="Footer navigation table" width="100%" border="0" cellpadding="0"
cellspacing="0">
<tr>
<td width="33%" align="left" valign="top"><a href="../setup/inittab.html"
accesskey="P">Назад</a></td>
<td width="34%" align="center" valign="top"><a href="index.html"
accesskey="H">Домой</a></td>
<td width="33%" align="right" valign="top"><a href="intro_cpkg.html"
accesskey="N">Далее</a></td>

</tr>

<tr>
<td width="33%" align="left" valign="top">Настройка inittab</td>
<td width="34%" align="center" valign="top">&nbsp;</td>
<td width="33%" align="right" valign="top">Введение в cpkg</td>
</tr>
</table><br>
</body></table>
